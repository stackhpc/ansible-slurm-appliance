# dnf_repos_default: see adjacent dnf_repo_timestamps.yml
# NB: that file is autogenerated so comments are removed

# Override this in environments/site/inventory/group_vars/dnf_repos.yml to add repos
# Use same format as ansible/roles/dnf_repos:dnf_repos_repos and dnf_repos_default
dnf_repos_extra: {}

# Combine defaults and extras, skipping openhpc repos if using alternative slurm:
dnf_repos_skip: "{{ [] if ((openhpc_install_type | default('ohpc') == 'ohpc')) else ['OpenHPC', 'OpenHPC-updates'] }}"
dnf_repos_repos: "{{ dnf_repos_default | combine(dnf_repos_extra) | dict2items | rejectattr('key', 'in', dnf_repos_skip) | items2dict }}"
