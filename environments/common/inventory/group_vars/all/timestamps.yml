dnf_repos_all: "{{ dnf_repos_no_epel | combine(dnf_repos_default_epel) }}"
dnf_repos_no_epel: |
  {{ dnf_repos_default['base'] 
    | combine(dnf_repos_default['ohpc'] if (openhpc_install_type | default('ohpc')) == 'ohpc' else {}) 
    | combine(dnf_repos_extra) }}
dnf_repos_default_epel: "{{ dnf_repos_default['epel'] }}"

dnf_repos_default:
  base:                                 # top level keys for internal indexing only, see ansible/roles/dnf_repos/defaults.yml
    appstream:                          # yum_repository:name
      '8.10':                           # ansible_distribution_version or ansible_distribution_major_version
        repo_file: Rocky-AppStream      # yum_repository: file
        # repo_name:                    # optional, override yum_repository:name
        pulp_path: rocky/8.10/AppStream/x86_64/os
        pulp_timestamp: 20250614T013846
        # pulp_content_url:             # optional, dnf_repos_pulp_content_url
        pulp_repo_name: appstream       # pulp repository name
      '9.4':
        repo_file: rocky
        pulp_path: rocky/9.4/AppStream/x86_64/os
        pulp_timestamp: 20241112T003151
        pulp_repo_name: appstream
      '9.5':
        repo_file: rocky
        pulp_path: rocky/9.5/AppStream/x86_64/os
        pulp_timestamp: 20250514T014704
        pulp_repo_name: appstream
      '9.6':
        repo_file: rocky
        pulp_path: rocky/9.6/AppStream/x86_64/os
        pulp_timestamp: 20250726T040613
        pulp_repo_name: appstream
    baseos:
      '8.10':
        repo_file: Rocky-BaseOS
        pulp_path: rocky/8.10/BaseOS/x86_64/os
        pulp_timestamp: 20250614T013846
        pulp_repo_name: baseos
      '9.4':
        repo_file: rocky
        pulp_path: rocky/9.4/BaseOS/x86_64/os
        pulp_timestamp: 20241115T011711
        pulp_repo_name: baseos
      '9.5':
        repo_file: rocky
        pulp_path: rocky/9.5/BaseOS/x86_64/os
        pulp_timestamp: 20250513T031844
        pulp_repo_name: baseos
      '9.6':
        repo_file: rocky
        pulp_path: rocky/9.6/BaseOS/x86_64/os
        pulp_timestamp: 20250726T052250
        pulp_repo_name: baseos
    Ceph:
      '8':
        repo_file: ceph
        pulp_path: centos/8-stream/storage/x86_64/ceph-quincy
        pulp_timestamp: 20231104T015751
        pulp_repo_name: ceph
      '9':
        repo_file: ceph
        pulp_path: centos/9-stream/storage/x86_64/ceph-reef
        pulp_timestamp: 20250617T023108
        pulp_repo_name: ceph
    crb:
      '8.10':
        repo_name: powertools
        repo_file: Rocky-PowerTools
        pulp_path: rocky/8.10/PowerTools/x86_64/os
        pulp_timestamp: 20250614T013846
        pulp_repo_name: crb
      '9.4':
        repo_file: rocky
        pulp_path: rocky/9.4/CRB/x86_64/os
        pulp_timestamp: 20241115T003133
        pulp_repo_name: crb
      '9.5':
        repo_file: rocky
        pulp_path: rocky/9.5/CRB/x86_64/os
        pulp_timestamp: 20250514T014704
        pulp_repo_name: crb
      '9.6':
        repo_file: rocky
        pulp_path: rocky/9.6/CRB/x86_64/os
        pulp_timestamp: 20250726T040613
        pulp_repo_name: crb
    extras:
      '8.10':
        repo_file: Rocky-Extras
        pulp_path: rocky/8.10/extras/x86_64/os
        pulp_timestamp: 20250510T032327
        pulp_repo_name: extras
      '9.4':
        repo_file: rocky-extras
        pulp_path: rocky/9.4/extras/x86_64/os
        pulp_timestamp: 20241118T002802
        pulp_repo_name: extras
      '9.5':
        repo_file: rocky-extras
        pulp_path: rocky/9.5/extras/x86_64/os
        pulp_timestamp: 20250506T032818
        pulp_repo_name: extras
      '9.6':
        repo_file: rocky-extras
        pulp_path: rocky/9.6/extras/x86_64/os
        pulp_timestamp: 20250726T040613
        pulp_repo_name: extras
    grafana:
      '8':
        repo_file: grafana
        pulp_path: grafana/oss/rpm
        timestamp: 20250615T005738
        pulp_repo_name: grafana
      '9':
        repo_file: grafana
        pulp_path: grafana/oss/rpm
        pulp_timestamp: 20250730T011314
        pulp_repo_name: grafana
  ohpc:
    OpenHPC:
      '8':
        repo_file: OpenHPC
        pulp_path: OpenHPC/2/EL_8
        pulp_timestamp: 20241218T154614
        pulp_repo_name: ohpc
      '9':
        repo_file: OpenHPC
        pulp_path: OpenHPC/3/EL_9
        pulp_timestamp: 20241218T154614
        pulp_repo_name: ohpc
    OpenHPC-updates:
      '8':
        repo_file: OpenHPC
        pulp_path: OpenHPC/2/updates/EL_8
        pulp_timestamp: 20250512T003315
        pulp_repo_name: ohpc-updates
      '9':
        repo_file: OpenHPC
        pulp_path: OpenHPC/3/updates/EL_9
        pulp_timestamp: 20250510T003301
        pulp_repo_name: ohpc-updates
  epel:
    epel:
      '8':
        repo_file: epel
        pulp_path: epel/8/Everything/x86_64
        pulp_timestamp: 20250615T234151
        pulp_repo_name: epel
      '9':
        repo_file: epel
        pulp_path: epel/9/Everything/x86_64
        pulp_timestamp: 20250729T235750
        pulp_repo_name: epel

dnf_repos_extra: {}
