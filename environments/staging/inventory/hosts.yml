all:
    vars:
        openhpc_cluster_name: slurm-staging
        cluster_domain_suffix: internal

control:
    hosts:
        slurm-staging-control:
            ansible_host: 192.168.0.38
            instance_id: d39127a5-e5bc-481f-91b3-bc596b693ce7
            networks: {"slurm-staging":{"fixed_ip_v4":"192.168.0.38","fixed_ip_v6":""}}
    vars:
        appliances_state_dir: /var/lib/state # NB needs to be set on group not host otherwise it is ignored in packer build!

slurm-staging_interactive:
    hosts:
        slurm-staging-login-0:
            ansible_host: 192.168.0.46
            instance_id: 6404a0ac-9616-4aa1-a27d-947be6064280
            image_id: fa4cd35b-a9a0-4042-be81-d4bdd4e87daa
            networks: {"slurm-staging":{"fixed_ip_v4":"192.168.0.46","fixed_ip_v6":""}}

login:
    children:
        slurm-staging_interactive:

slurm-staging_general:
    hosts:
        slurm-staging-compute-0:
            ansible_host: 192.168.0.97
            instance_id: 4d480390-4025-428f-b0e3-f6cae19ea9fd
            networks: {"slurm-staging":{"fixed_ip_v4":"192.168.0.97","fixed_ip_v6":""}}
        slurm-staging-compute-1:
            ansible_host: 192.168.0.57
            instance_id: 5b9ddb19-bc60-49ce-8e1a-6bf3fd3d513f
            networks: {"slurm-staging":{"fixed_ip_v4":"192.168.0.57","fixed_ip_v6":""}}
    vars:
        # NB: this is the target image, not necessarily what is provisioned
        image_id: fa4cd35b-a9a0-4042-be81-d4bdd4e87daa

compute:
    children:
        slurm-staging_general:
