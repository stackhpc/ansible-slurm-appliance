---
- name: Apply firewalld configs # noqa: args[module]
  ansible.posix.firewalld: "{{ item }}"
  notify: Restart firewalld
  loop: "{{ firewalld_configs }}"

- ansible.builtin.meta: flush_handlers
- name: Ensure firewalld state
  ansible.builtin.systemd:
    name: firewalld
    state: "{{ firewalld_state }}"
    enabled: "{{ firewalld_enabled | default(true) }}"
